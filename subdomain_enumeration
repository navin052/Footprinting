# Python
import requests
import json

def get_subdomains(domain):
    url = f"https://crt.sh/?q=%25.{domain}&output=json"
    try:
        response = requests.get(url, timeout=10)
        response.raise_for_status()
        data = response.json()
        
        subdomains = set()
        for entry in data:
            if "name_value" in entry:
                # crt.sh sometimes returns multiple domains separated by \n
                for sub in entry["name_value"].splitlines():
                    if sub.endswith(domain):
                        subdomains.add(sub.strip())
        
        return sorted(subdomains)

    except requests.RequestException as e:
        print(f"Error fetching data: {e}")
        return []

if __name__ == "__main__":
    domain = "example.com"
    subdomains = get_subdomains(domain)
    print("\n".join(subdomains))
